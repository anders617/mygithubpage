{"version":3,"sources":["api/mdiningservice.js","components/Menu/Category.jsx","components/Menu/Menu.jsx","App.js","serviceWorker.js","index.js"],"names":["MDiningPromiseClient","Category","category","style","fontSize","margin","marginTop","fontWeight","getName","boxShadow","borderRadius","bodyStyle","padding","itemLayout","dataSource","getMenuitemList","size","split","renderItem","item","Item","Meta","description","display","getAttributeList","reduce","a","b","getAllergensList","Menu","props","state","diningHalls","menus","selectedCampus","selectedDiningHall","selectedDate","moment","selectedMenu","loading","menuCache","mdiningclient","getDiningHalls","DiningHallsRequest","then","diningHallList","getDininghallsList","bursleyIdx","findIndex","diningHall","setState","fetchMenu","catch","error","console","log","menu","this","dayEvent","length","getDayeventsList","find","getKey","day","hours","getCalendareventList","event","getEventtitle","toLowerCase","getMeal","getHoursOfMenu","getEventtimestart","getEventtimeend","now","isSame","withCategories","map","idx","filter","getHascategories","getEndTimeOfMenu","isSameOrAfter","sort","aHours","bHours","isAfter","diff","cacheKey","format","hasOwnProperty","firstMenuWithCategories","req","MenuRequest","setDate","setDininghall","setMeal","getMenu","getMenusList","diningHallIndex","getCampus","getCategoryList","key","getDescription","campusOptions","Array","from","Set","localeCompare","campus","Button","value","options","entry","minWidth","startTime","endTime","timeDescriptionRelative","startTimeDescription","endTimeDescription","isBetween","clone","subtract","add","isBefore","fromNow","mealOptions","meal","getStartTimeOfMenu","className","type","justify","span","Group","maxWidth","buttonStyle","onChange","e","onChangeCampus","target","onChangeDate","allowClear","onChangeDiningHall","indicator","spin","spinning","renderCategories","Component","Header","Layout","Footer","Content","App","backgroundColor","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.acffb630.chunk.js","sourcesContent":["import { MDiningPromiseClient } from 'mdining-proto';\nexport default new MDiningPromiseClient('https://michigan-dining-api.herokuapp.com');\n","import React from 'react';\nimport {Card, List } from 'antd';\n\nconst Category = ({category}) => {\n    return (\n        <div>\n            <h2 style={{fontSize: '12pt', margin: '2px', marginTop: '10px', fontWeight: 600}}>{category.getName()}</h2>\n            <Card \n                style={{boxShadow: '0px 0px 4px 0px rgba(0, 0, 0, 0.1)', borderRadius: '5px'}}\n                bodyStyle={{padding: '10px'}}\n            >\n            <List \n                itemLayout=\"horizontal\"\n                dataSource={category.getMenuitemList()}\n                size=\"small\"\n                split={false}\n                renderItem={(item) => (\n                    <List.Item style={{padding: '0px'}}>\n                        <List.Item.Meta\n                            style={{padding: '0px'}}\n                            description={(\n                                <div>\n                                <h4 style={{padding: '0px', margin: '0px'}}>{item.getName()}</h4>\n                                <p style={{margin: '0px', padding: '0px', display: 'block'}}>\n                                    <i>{item.getAttributeList().reduce((a, b) => `${a} ${b}`, '')} - </i>\n                                    <i>{item.getAllergensList().reduce((a, b) => `${a} ${b}`, '')}</i>\n                                </p>\n                                </div>\n                            )}\n                        />\n                    </List.Item>\n                )}\n            />\n            </Card>\n        </div>\n    )\n}\n\nexport default Category;\n","import React, { Component } from 'react';\nimport moment from 'moment';\nimport { BrowserView, MobileView, } from \"react-device-detect\";\nimport { Row, Col, Card, Spin, Icon, DatePicker, Radio } from 'antd';\nimport mdiningclient from '../../api/mdiningservice';\nimport { DiningHallsRequest, MenuRequest } from 'mdining-proto';\nimport Category from './Category';\n\nconst dateFormat = 'YYYY-MM-DD';\n\nclass Menu extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            diningHalls: [],\n            menus: [],\n            selectedCampus: 'DINING HALLS',\n            selectedDiningHall: 0,\n            selectedDate: moment(),\n            selectedMenu: 0,\n            loading: true,\n        };\n        this.menuCache = {};\n    }\n\n    componentDidMount() {\n        mdiningclient.getDiningHalls(new DiningHallsRequest())\n            .then((diningHalls) => {\n                const diningHallList = diningHalls.getDininghallsList();\n                const bursleyIdx = diningHallList.findIndex((diningHall) => diningHall.getName() === 'Bursley Dining Hall');\n                this.setState({ diningHalls: diningHallList, selectedDiningHall: bursleyIdx }, () => this.fetchMenu());\n            })\n            .catch((error) => console.log(error));\n    }\n\n    getHoursOfMenu(menu) {\n        const { selectedDiningHall, selectedDate, diningHalls } = this.state;\n        const dayEvent = diningHalls.length === 0 ? null : diningHalls[selectedDiningHall].getDayeventsList().find((dayEvent) => moment(dayEvent.getKey()).day() === selectedDate.day());\n        const hours =  !dayEvent ? null : dayEvent.getCalendareventList().find((event) => event.getEventtitle().toLowerCase() === menu.getMeal().toLowerCase());\n        if (!hours) return null;\n        return hours;\n    }\n\n    getStartTimeOfMenu(menu) {\n        const hours = this.getHoursOfMenu(menu);\n        if (!hours) return null;\n        return moment(hours.getEventtimestart());\n    }\n\n    getEndTimeOfMenu(menu) {\n        const hours = this.getHoursOfMenu(menu);\n        if (!hours) return null;\n        return moment(hours.getEventtimeend());\n    }\n\n    firstMenuWithCategories(menus) {\n        const { selectedDate } = this.state;\n        const now = moment();\n        if (selectedDate.isSame(now, 'day')) {\n            const withCategories = menus\n                .map((menu, idx) => {return {idx, menu};})\n                .filter((item) => item.menu.getHascategories() && this.getEndTimeOfMenu(item.menu) && this.getEndTimeOfMenu(item.menu).isSameOrAfter(now));\n            if (withCategories.length === 0) return 0;\n            const closestMenuInTime = withCategories.sort((a, b) => {\n                const aHours = this.getHoursOfMenu(a.menu);\n                const bHours = this.getHoursOfMenu(b.menu);\n                if (now.isAfter(moment(aHours.getEventtimestart()))) {\n                    return -1;\n                } else if (now.isAfter(moment(bHours.getEventtimestart()))) {\n                    return 1;\n                }\n                return moment(aHours.getEventtimestart()).diff(now) - moment(bHours.getEventtimestart()).diff(now);\n            })[0];\n            return closestMenuInTime.idx;\n        }\n        const idx = menus.findIndex((menu) => menu.getHascategories());\n        if (idx === -1) return 0;\n        return idx;\n    }\n\n    fetchMenu() {\n        const { diningHalls, selectedCampus, selectedDiningHall, selectedDate } = this.state;\n        if (diningHalls.length === 0) return;\n        const cacheKey = selectedCampus + selectedDiningHall + selectedDate.format(dateFormat);\n        if (this.menuCache.hasOwnProperty(cacheKey)) {\n            const menus = this.menuCache[cacheKey];\n            this.setState({ menus, selectedMenu: this.firstMenuWithCategories(menus) });\n            return;\n        }\n        const req = new MenuRequest();\n        req.setDate(selectedDate.format(dateFormat));\n        req.setDininghall(diningHalls[selectedDiningHall].getName());\n        req.setMeal(null);\n        this.setState({ loading: true });\n        mdiningclient.getMenu(req)\n            .then((menu) => {\n                const menus = menu.getMenusList()\n                this.menuCache[cacheKey] = menus;\n                this.setState({ menus, selectedMenu: this.firstMenuWithCategories(menus), loading: false });\n            })\n            .catch((error) => console.log(error));\n    }\n\n    onChangeDate(selectedDate) {\n        this.setState({ selectedDate }, () => this.fetchMenu());\n    }\n\n    onChangeDiningHall(selectedDiningHall) {\n        this.setState({ selectedDiningHall }, () => this.fetchMenu());\n    }\n\n    onChangeCampus(selectedCampus) {\n        const { diningHalls } = this.state;\n        const diningHallIndex = diningHalls.findIndex((diningHall) => diningHall.getCampus() === selectedCampus);\n        this.setState({ selectedCampus, selectedDiningHall: diningHallIndex }, () => this.fetchMenu());\n    }\n\n    renderCategories() {\n        const { selectedMenu, menus } = this.state;\n        if (menus.length === 0) {\n            return (<b>There's no data for this date :(</b>)\n        }\n        const menu = menus[selectedMenu];\n        if (!menu.getHascategories()) {\n            return (<b>{menu.getDescription()}</b>)\n        }\n        return menu.getCategoryList().map((category) => (<Category key={category.getName()} category={category} />));\n    }\n\n    render() {\n        const { style } = this.props;\n        const { selectedCampus, selectedDiningHall, selectedDate, selectedMenu, diningHalls, menus, loading } = this.state;\n        const campusOptions = Array.from(new Set(diningHalls.map((diningHall) => diningHall.getCampus())))\n            .sort((a, b) => a.localeCompare(b))\n            .map((campus) => {\n                return (<Radio.Button key={campus} value={campus}>{campus}</Radio.Button>)\n            });\n        const options = diningHalls\n            .map((diningHall, idx) => { return { idx, diningHall }; })\n            .sort((a, b) => a.diningHall.getName().localeCompare(b.diningHall.getName()))\n            .filter((entry) => entry.diningHall.getCampus() === selectedCampus)\n            .map((entry) => {\n                return (\n                    <Radio.Button style={{ minWidth: 205 }} key={entry.idx} value={entry.idx}>{entry.diningHall.getName()}</Radio.Button>\n                );\n            });\n        const hours =  diningHalls.length === 0 || menus.length === 0 ? null : this.getHoursOfMenu(menus[selectedMenu]);\n        const startTime = hours ? moment(hours.getEventtimestart()) : moment();\n        const endTime = hours ? moment(hours.getEventtimeend()) : moment();\n\n        let timeDescriptionRelative = null;\n        const startTimeDescription = startTime.format('h:mma');\n        const endTimeDescription = endTime.format('h:mma');\n        if (moment().isBetween(startTime.clone().subtract(24, 'hours'), endTime.clone().add(24, 'hours'))) {\n            if (moment().isBefore(startTime)) {\n                timeDescriptionRelative = 'Opens ' + startTime.fromNow();\n            } else if (moment().isBefore(endTime)) {\n                timeDescriptionRelative = 'Closes ' + endTime.fromNow();\n            } else {\n                timeDescriptionRelative = 'Closed ' + endTime.fromNow() + ' :(';\n            }\n        }\n        const mealOptions = menus\n            .map((menu, idx) => { return { idx, meal: menu.getMeal(), startTime: this.getStartTimeOfMenu(menu) }; })\n            .sort((a, b) => {\n                if (a.startTime && b.startTime) {\n                    return a.startTime.isBefore(b.startTime) ? -1 : a.meal.localeCompare(b.meal);\n                }\n                if (a.startTime) {\n                    return -1;\n                }\n                if (b.startTime) {\n                    return 1;\n                }\n                return a.meal.localeCompare(b.meal);\n            })\n            .map((entry) => (<Radio.Button style={{ minWidth: 125 }} key={entry.idx} value={entry.idx}>{entry.meal}</Radio.Button>));\n        return (\n            <div className=\"Menu\" style={style}>\n                <Row type=\"flex\" justify=\"center\">\n                    <Col span={23}>\n                        <Card\n                            style={{ boxShadow: '0px 0px 4px 0px rgba(0, 0, 0, 0.1)', borderRadius: '5px', padding: '0px' }}\n                            bodyStyle={{ padding: '10px' }}\n                        >\n                            <Radio.Group\n                                style={{ maxWidth: 800, margin: '5px' }}\n                                value={selectedCampus}\n                                buttonStyle=\"solid\"\n                                onChange={(e) => this.onChangeCampus(e.target.value)}\n                            >\n                                {campusOptions}\n                            </Radio.Group>\n                            <MobileView>\n                                <input\n                                    style={{ margin: '5px', fontSize: '16px' }}\n                                    type=\"date\"\n                                    value={selectedDate.format(dateFormat)}\n                                    onChange={(e) => this.onChangeDate(moment(e.target.value))}\n                                />\n                            </MobileView>\n                            <BrowserView style={{ display: 'inline-block' }}>\n                                <DatePicker\n                                    style={{ margin: '5px' }}\n                                    value={selectedDate}\n                                    onChange={(selectedDate) => this.onChangeDate(selectedDate)}\n                                    allowClear={false}\n                                />\n                            </BrowserView>\n                            <Radio.Group\n                                style={{ maxWidth: 800, margin: '5px' }}\n                                value={selectedDiningHall}\n                                buttonStyle=\"solid\"\n                                onChange={(e) => this.onChangeDiningHall(e.target.value)}\n                            >\n                                {options}\n                            </Radio.Group>\n                            <br />\n                            <Radio.Group\n                                style={{ maxWidth: 400, margin: '5px' }}\n                                value={selectedMenu}\n                                buttonStyle=\"solid\"\n                                onChange={(e) => this.setState({ selectedMenu: e.target.value })}\n                            >\n                                {mealOptions}\n                            </Radio.Group>\n                        </Card>\n                    </Col>\n                </Row>\n                <br />\n                <Spin indicator={(<Icon type=\"loading\" style={{ fontSize: 24 }} spin />)} spinning={loading}>\n                    <Row type=\"flex\" justify=\"center\">\n                        <Col span={23}>\n                            <Card\n                                style={{ boxShadow: '0px 0px 4px 0px rgba(0, 0, 0, 0.1)', borderRadius: '5px', padding: '0px' }}\n                                bodyStyle={{ padding: '10px' }}\n                            >\n                                {hours ?\n                                    (<p>\n                                        {timeDescriptionRelative}\n                                        <br />\n                                        <i>Hours: {startTimeDescription} - {endTimeDescription}</i>\n                                    </p>)\n                                    : null}\n                                {this.renderCategories()}\n                            </Card>\n                        </Col>\n                    </Row>\n                </Spin>\n            </div>\n        )\n    }\n}\n\nexport default Menu;\n","import React from 'react';\nimport './App.css';\nimport { Row, Col, Layout } from 'antd';\nimport Menu from './components/Menu/Menu';\n\nconst { Header, Footer, Content } = Layout;\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Layout style={{backgroundColor: 'transparent'}}>\n        <Header style={{backgroundColor: 'transparent', fontSize: '18pt', fontWeight: 600}}>MDining Menus</Header>\n        <Content style={{backgroundColor: 'transparent'}}>\n          <Row type=\"flex\" justify=\"center\">\n            <Col>\n              <Menu style={{maxWidth: '700px'}}/>\n            </Col>\n          </Row>\n        </Content>\n        <Footer style={{backgroundColor: 'transparent'}}>&copy; 2019 Anders Boberg</Footer>\n      </Layout>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'antd/dist/antd.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}