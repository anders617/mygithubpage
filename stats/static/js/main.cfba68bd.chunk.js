(this["webpackJsonpstats-dev"]=this["webpackJsonpstats-dev"]||[]).push([[0],{102:function(e,t,n){e.exports=n(209)},107:function(e,t,n){},108:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(58),o=n.n(i),l=(n(107),n(108),n(82)),s=n(83),c=n(95),u=n(84),m=n(96),d=n(36),f=n(37),h=n.n(f),y=n(222),g=n(223),p=n(217),v=n(224),E=n(218),x=n(220),b=n(93),k=n(225),S=n(226),w=n(227),F=n(244),C=n(219),T=n(221),D="#FFFFFF",A="#32deaa",L=75,O=50,W=60,z=70,j=function(e){return e.x},N=function(e){return e.y};var M=function(e){var t=e.height,n=(e.width,e.data),r=e.title,i=e.yLabel;return a.a.createElement("div",{className:"DateLineChart",style:{height:t,minWidth:"300px",flexBasis:"0px",margin:"15px",flexGrow:1,flexShrink:1}},a.a.createElement(h.a,{className:"Tilt",options:{max:5,scale:1.05},style:{width:"100%",height:"100%"}},a.a.createElement(p.a,{className:"graph-container"},(function(e){var t=e.width,o=e.height,l=t-O,s=L,c=o-W,u=z,m=Object(E.a)({range:[s,l],domain:Object(C.a)(n,j)}),d=Object(x.a)({range:[c,u],domain:[0,Object(T.a)(n,N)]});return a.a.createElement("svg",{width:t,height:o},a.a.createElement(y.a,{id:"Background",vertical:!0}),a.a.createElement(g.a,{id:"Title",vertical:!1}),a.a.createElement("rect",{x:0,y:0,width:t,height:o,rx:10,fill:A}),a.a.createElement(F.a,{style:{fontFamily:"Arial",fontWeight:600,fontSize:"22px"},fill:"#FFFFFF",verticalAnchor:"start",textAnchor:"middle",x:t/2,y:20,width:0===t?1:t},r),a.a.createElement(v.a,{data:n,x:function(e){return m(j(e))},y:function(e){return d(N(e))},stroke:D,strokeWidth:2,curve:b.a}),a.a.createElement(k.a,null,a.a.createElement(S.a,{left:L,scale:d,label:i,labelProps:{fill:D,textAnchor:"middle",fontSize:14,fontWeight:600},numTicks:5,stroke:D,tickStroke:D,tickLabelProps:function(e,t){return{fill:D,textAnchor:"end",fontSize:12,fontWeight:600,dx:"-0.25em",dy:"0.25em"}}}),a.a.createElement(w.a,{top:o-W,scale:m,label:"Date",labelProps:{fill:D,textAnchor:"middle",fontSize:14,fontWeight:600},stroke:D,tickStroke:D,numTicks:5,tickLabelProps:function(e,t){return{fill:D,textAnchor:"middle",fontSize:8,fontWeight:600,dy:"0.25em"}}})))}))))},B={backgroundColor:"#32deaa",maxWidth:"200px",display:"flex",flexDirection:"column",alignItems:"start",borderRadius:"10px"},P=function(e){var t=e.style,n=void 0===t?{}:t,r=e.children;return a.a.createElement("div",{style:Object.assign({},B,n)},r)},I=function(e){var t=e.leftText,n=e.rightText,r=e.key;return a.a.createElement("li",{key:r,style:{display:"list-item",padding:0,margin:0,width:"100%"}},a.a.createElement("div",{style:{margin:0,padding:0,float:"left"}},t),a.a.createElement("div",{style:{margin:0,padding:0,marginLeft:"10px",float:"right"}},n))},q={fontSize:"18pt",fontWeight:"600",textAlign:"center"},U={listStyleType:"decimal",textAlign:"left",padding:0,margin:0,marginLeft:"20px",marginTop:"5px"},H={maxWidth:"360px",padding:"15px",margin:"10px",borderRadius:"10px",color:"white"},G=function(e){e.key;var t=e.leftItems,n=e.rightItems,r=e.title,i=e.style,o=void 0===i?{}:i,l=t.map((function(e,t){return a.a.createElement(I,{key:t,leftText:e,rightText:n[t]})}));return a.a.createElement(P,{style:Object.assign({},H,o)},a.a.createElement("span",{style:q},r),a.a.createElement("ol",{style:U},l))},R={display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",alignContent:"space-around",width:"100vw"},J=function(e){var t=e.children,n=e.style,r=void 0===n?{}:n;return a.a.createElement("div",{className:"ChartGrid",style:Object.assign({},R,r)},t)},_={fontSize:"20pt",fontWeight:"600"},V=function(e){var t=e.id,n=e.style,r=void 0===n?{}:n,i=e.title;return a.a.createElement("header",{className:"ChartHeader",id:t,style:Object.assign({},_,r)},i)},$={fontSize:"12pt",fontWeight:"400",color:"gray"},K=function(e){var t=e.style,n=void 0===t?{}:t,r=e.text,i=void 0===r?null:r;return i?a.a.createElement("header",{className:"ChartDescription",style:Object.assign({},$,n)},i):""},Q=function(e){var t=e.title,n=e.id,r=e.children,i=e.description,o=void 0===i?null:i;return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,{title:t,id:n}),a.a.createElement(K,{text:o}),a.a.createElement(J,null,r))},X={marginBottom:"10px",marginLeft:"20px",color:"white",textDecoration:"none",fontWeight:600},Y=function(e){var t=e.href,n=e.title,r=e.id;return a.a.createElement("a",{id:r,href:t,style:X},n)},Z={display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginBottom:"20px"},ee={flexBasis:"300px"},te={marginLeft:"15px",marginBottom:"10px"},ne=function(e){var t=e.hrefs,n=e.sections,r=e.title,i=t.map((function(e,t){return a.a.createElement(Y,{href:e,title:n[t],key:t})}));return a.a.createElement("div",{className:"TableOfContents",style:Z},a.a.createElement(h.a,{className:"Tilt",options:{max:5,scale:1.05},style:ee},a.a.createElement(P,{style:{paddingBottom:"10px",maxWidth:"300px"}},a.a.createElement("h3",{style:te},r),i)))},re=new d.MDiningPromiseClient("https://michigan-dining-api.tendiesti.me"),ae=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ie=function(e){var t=e.getLatestweekdayfoodcountsMap(),n=function(e){var t=e.getLatestweekdayfoodcountsMap(),n={},r=function(e){return t.get(e).getDataMap().getEntryList().sort((function(e,t){return e[1]-t[1]})).filter((function(e){return!e[0].includes("no service at this time")}))},a=[];ae.forEach((function(e){return r(e).forEach((function(e){return a.push(e[0])}))}));var i=a.map((function(e){return ae.map((function(n){var r=t.get(n).getDataMap();return r.has(e)?r.get(e):0})).reduce((function(e,t){return e+t}),0)})),o=a.map((function(e){return ae.map((function(n){var r=t.get(n).getDataMap();return r.has(e)&&r.get(e)>0?1:0})).reduce((function(e,t){return e+t}),0)}));return ae.forEach((function(e){n[e]=r(e).map((function(e){return{entry:e,foodIndex:a.indexOf(e[0])}})).filter((function(e){return o[e.foodIndex]>4})).filter((function(e){return i[e.foodIndex]>100})).map((function(e){return e.entry}))})),n}(e),r=[];ae.forEach((function(e){return n[e].forEach((function(e){return r.push(e[0])}))}));var a=r.map((function(e){return ae.map((function(n){var r=t.get(n).getDataMap();return r.has(e)?r.get(e):0})).reduce((function(e,t){return e+t}),0)/ae.length}));return ae.map((function(e){return n[e].map((function(e){var t=a[r.indexOf(e[0])];return[e[0],(0===t?0:e[1])/t]}))}))},oe=function(e){var t=e.getDatesList(),n=e.getNumuniquefoodsList().map((function(e,n){return{x:new Date(t[n]),y:e}}));return n.sort((function(e,t){return e.x-t.x})),n},le=function(e){var t=e.getDatesList(),n=e.getTotalfoodmealsservedList().map((function(e,n){return{x:new Date(t[n]),y:e}}));return n.sort((function(e,t){return e.x-t.x})),n},se=function(e){var t=oe(e),n=le(e).map((function(e,n){return 0===t[n].y?{x:e.x,y:0}:{x:e.x,y:e.y/t[n].y}}));return n.sort((function(e,t){return e.x-t.x})),n},ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={foodStats:[],summaryStats:null,error:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;re.getSummaryStats(new d.SummaryStatsRequest).then((function(t){console.log(t.getStats()),e.setState({summaryStats:t.getStats(),error:null})})).catch((function(t){14!==t.code?e.setState({summaryStats:null,error:t}):e.setState({summaryStats:null,error:"Server is processing data. Please retry in a few moments."})}))}},{key:"renderChart",value:function(e){var t=e.key,n=e.data,r=e.title,i=e.yLabel;return a.a.createElement(M,{key:t,width:"45vw",height:"260px",data:n,title:r,yLabel:i})}},{key:"renderAllergenCharts",value:function(){var e=this,t=this.state.summaryStats;return Object.entries(function(e){var t=e.getDatesList(),n=e.getTotalfoodmealsservedList(),r=e.getAllergencountsMap(),a=[];t.length>0&&r.forEach((function(e,t){a.push(t)}));var i=a.map((function(e){var a=r.get(e).getCountsList().map((function(e,r){var a=isNaN(e)?-1:e;return{x:new Date(t[r]),y:100*a/n[r]}})).filter((function(e){return e.y>=0}));return a.sort((function(e,t){return e.x-t.x})),a})),o={};return a.forEach((function(e,t){return o[e]=i[t]})),o}(t)).map((function(t){return e.renderChart({key:t[0],data:t[1],title:"Percentage of Food Servings That Contain ".concat(t[0]),yLabel:"Percent"})}))}},{key:"renderAttributeCharts",value:function(){var e=this,t=this.state.summaryStats;return Object.entries(function(e){var t=e.getDatesList(),n=e.getTotalfoodmealsservedList(),r=e.getAttributecountsMap(),a=[];t.length>0&&r.forEach((function(e,t){a.push(t)}));var i=a.map((function(e){var a=r.get(e).getCountsList().map((function(e,r){var a=isNaN(e)?0:e;return{x:new Date(t[r]),y:100*a/n[r]}})).filter((function(e){return e.y>=0}));return a.sort((function(e,t){return e.x-t.x})),a})),o={};return a.forEach((function(e,t){return o[e]=i[t]})),o}(t)).map((function(t){return e.renderChart({key:t[0],data:t[1],title:"Percentage of Food Servings That Are ".concat(t[0]),yLabel:"Percent"})}))}},{key:"renderUniqueFoodChart",value:function(){var e=this.state.summaryStats;return this.renderChart({key:"UniqueFood",data:oe(e),title:"Number Of Unique Foods Per Day",yLabel:"Count"})}},{key:"renderTotalFoodServingsChart",value:function(){var e=this.state.summaryStats;return this.renderChart({key:"TotalFoodServings",data:le(e),title:"Total Menu Items Per Day",yLabel:"Count"})}},{key:"renderTotalFoodServingsPerUniqueFoodChart",value:function(){var e=this.state.summaryStats;return this.renderChart({key:"TotalFoodServingsPerUniqueFood",data:se(e),title:"Average Number Of Times A Food Appears Per Day",yLabel:"Count"})}},{key:"renderTopFiveFoodsCharts",value:function(){var e=this.state.summaryStats;return Object.entries(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=ie(e),r=ae.map((function(e,r){return n[r].filter((function(e){return e[1]>1})).sort((function(e,t){return e[1]-t[1]})).slice(-t).reverse()})).map((function(e){return{names:e.map((function(e){return e[0]})),counts:e.map((function(e){return e[1]}))}})),a={};return ae.forEach((function(e,t){var n=r[t];a[e]={names:n.names,counts:n.counts}})),a}(e,10)).map((function(e){return a.a.createElement(G,{title:e[0],leftItems:e[1].names,rightItems:e[1].counts.map((function(e){return isFinite(e)?e.toFixed(2)+"x":"never"})),key:e[0]})}))}},{key:"renderBottomFiveFoodsCharts",value:function(){var e=this.state.summaryStats;return Object.entries(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=ie(e),r=ae.map((function(e,r){return n[r].filter((function(e){return e[1]<1})).sort((function(e,t){return t[1]-e[1]})).slice(-t).map((function(e){return[e[0],1/e[1]]})).reverse()})).map((function(e){return{names:e.map((function(e){return e[0]})),counts:e.map((function(e){return e[1]}))}})),a={};return ae.forEach((function(e,t){var n=r[t];a[e]={names:n.names,counts:n.counts}})),a}(e,10)).map((function(e){return a.a.createElement(G,{title:e[0],leftItems:e[1].names,rightItems:e[1].counts.map((function(e){return isFinite(e)?e.toFixed(2)+"x":"never"})),key:e[0]})}))}},{key:"renderError",value:function(){var e=this.state.error;return a.a.createElement("div",{className:"ChartContainer",style:{color:"black",fontSize:"36px",height:"80vh",verticalAlign:"middle",lineHeight:"80vh"}},"string"===typeof e?e:"Something went wrong :(")}},{key:"render",value:function(){var e=this.state,t=e.summaryStats;if(null!==e.error)return this.renderError();if(!t)return a.a.createElement("div",null,"Loading...");var n=this.renderTopFiveFoodsCharts(),r=this.renderBottomFiveFoodsCharts(),i=this.renderAttributeCharts(),o=this.renderAllergenCharts(),l=[this.renderUniqueFoodChart(),this.renderTotalFoodServingsChart(),this.renderTotalFoodServingsPerUniqueFoodChart()],s=a.a.createElement("p",null,'A "menu item" is one listing of a food on a menu',a.a.createElement("br",null),"Foods can be listed mutliple times per day(and meal)"),c=a.a.createElement("p",null,"How many times more than average is a food served on a certain day of the week?",a.a.createElement("br",null),"Notice taco Tuesday and that each day has a special soup"),u=a.a.createElement("p",null,"How many times less than average is a food served on a certain day of the week?",a.a.createElement("br",null),'"never" means the item has never been served on that day',a.a.createElement("br",null),"Notice meatless(beefless?) Mondays and healthy(?) breakfasts on Tuesday"),m=a.a.createElement("p",null,"Strange looking areas are usually due to the dinings halls being closed");return function(e,t){var n=[],r=[];return e.forEach((function(e){var t=e.props,a=t.id,i=t.title;n.push("#".concat(a)),r.push(i)})),a.a.createElement(a.a.Fragment,null,a.a.createElement(ne,{hrefs:n,sections:r,title:t}),e)}([a.a.createElement(Q,{title:"Overall Counts",id:"OverallCounts",description:s,key:1},l),a.a.createElement(Q,{title:"Most Served By Day Of The Week",id:"TopByDay",description:c,key:4},n),a.a.createElement(Q,{title:"Least Served By Day Of The Week",id:"BottomByDay",description:u,key:5},r),a.a.createElement(Q,{title:"Attribute Metrics",id:"Attributes",description:m,key:2},i),a.a.createElement(Q,{title:"Allergen Metrics",id:"Allergens",key:3},o)],"Sections")}}]),t}(r.Component),ue=n(228),me=n(229),de=n(230),fe=n(231),he=n(232),ye=n(233),ge=n(234),pe=n(235),ve=n(236),Ee=n(237),xe=n(238),be=n(239),ke=n(240),Se=n(241),we=n(242),Fe=n(243),Ce={margin:"3px",cursor:"pointer"},Te=function(e){var t=e.url,n=e.size,r=void 0===n?32:n,i=e.round,o=void 0===i||i,l=e.title,s=void 0===l?"":l,c=e.body,u=void 0===c?"":c;return a.a.createElement("div",{className:"ShareContainer",style:{display:"flex",justifyContent:"center"}},a.a.createElement(ue.a,{url:t,quote:s,style:Ce},a.a.createElement(me.a,{size:r,round:o})),a.a.createElement(de.a,{url:t,windowWidth:750,windowHeight:600,style:Ce},a.a.createElement(fe.a,{size:r,round:o})),a.a.createElement(he.a,{url:t,title:s,style:Ce},a.a.createElement(ye.a,{size:r,round:o})),a.a.createElement(ge.a,{url:t,title:s,style:Ce},a.a.createElement(pe.a,{size:r,round:o})),a.a.createElement(ve.a,{url:t,title:s,separator:":: ",style:Ce},a.a.createElement(Ee.a,{size:r,round:o})),a.a.createElement(xe.a,{url:t,title:s,windowWidth:660,windowHeight:460,style:Ce},a.a.createElement(be.a,{size:r,round:o})),a.a.createElement(ke.a,{url:t,title:s,windowWidth:660,windowHeight:460,style:Ce},a.a.createElement(Se.a,{size:r,round:o})),a.a.createElement(we.a,{url:t,subject:s,body:u,style:Ce},a.a.createElement(Fe.a,{size:r,round:o})))},De=n(94),Ae={color:"#000000",textDecoration:"none"},Le=function(e){return a.a.createElement("div",{className:"Footer",style:{margin:"10px"}},a.a.createElement("a",{href:"https://github.com/anders617/tendiestime",target:"_blank",rel:"noopener noreferrer",style:Ae},a.a.createElement(De.a,{size:32}),a.a.createElement("p",{style:{fontSize:"8pt",fontWeight:"600",marginTop:"2px"}},"View Me On Github")),a.a.createElement("p",{style:{fontSize:"8pt",fontWeight:"600"}},"\xa9 2019-2020 ",a.a.createElement("a",{href:"https://andersboberg.com",target:"_blank",rel:"noopener noreferrer",style:Ae},"Anders Boberg")))};var Oe=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("div",{style:{color:"#000000",marginTop:"20px"}},a.a.createElement(Te,{url:window.location.href,size:32,title:"MDining Stats! from tendiesti.me",body:"Check this out!"})),a.a.createElement("h1",{style:{color:"#000000",fontSize:"24px",fontWeight:"900",fontFamily:"Arial",margin:"10px",marginBottom:"0px"}},"MDining Stats!"),a.a.createElement("h2",{style:{color:"#3F3F3F",fontSize:"16px",fontWeight:"200",fontFamily:"Arial",fontStyle:"italic",margin:"20px",marginTop:"5px"}},"Updated Daily ",a.a.createElement("br",null),a.a.createElement("p",null,"Charts and statistics on food being served at University of Michigan dining halls."),a.a.createElement("p",null,"If you are looking for michigan dining hall menus check out the ",a.a.createElement("a",{href:"/menu"},"menus page")),a.a.createElement("p",null,"If you are looking for a searchable list of food check out ",a.a.createElement("a",{href:"/"},"tendiestime")))),a.a.createElement(ce,null),a.a.createElement(Le,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Oe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[102,1,2]]]);
//# sourceMappingURL=main.cfba68bd.chunk.js.map